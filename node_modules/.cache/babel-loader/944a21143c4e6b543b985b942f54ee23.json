{"ast":null,"code":"import _regeneratorRuntime from\"/Users/aaron.lau/dev/react-twitch-viewer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/aaron.lau/dev/react-twitch-viewer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/aaron.lau/dev/react-twitch-viewer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import api from\"../api\";function Games(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),games=_useState2[0],setGames=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,dataArray,finalArray;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get(\"https://api.twitch.tv/helix/games/top\");case 2:result=_context.sent;// console.log(result.data);\ndataArray=result.data.data;finalArray=dataArray.map(function(game){var newURL=game.box_art_url.replace(\"{width}\",\"300\").replace(\"{height}\",\"300\");game.box_art_url=newURL;return game;});setGames(finalArray);case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Most Popular Games\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},games.map(function(game){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4 col-md-6 col-sm-12 mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"img\",{className:\"card-img-top\",src:game.box_art_url}),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title\"},game.name),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success\"},/*#__PURE__*/React.createElement(Link,{className:\"link\",to:{pathname:\"game/\"+game.name,state:{gameID:game.id}}},game.name,\" streams\",\" \")))));})));}export default Games;","map":{"version":3,"sources":["/Users/aaron.lau/dev/react-twitch-viewer/src/components/Games.js"],"names":["React","useState","useEffect","Link","api","Games","games","setGames","fetchData","get","result","dataArray","data","finalArray","map","game","newURL","box_art_url","replace","name","pathname","state","gameID","id"],"mappings":"0dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,GAAP,KAAgB,QAAhB,CAEA,QAASC,CAAAA,KAAT,EAAiB,eACWJ,QAAQ,CAAC,EAAD,CADnB,wCACRK,KADQ,eACDC,QADC,eAEfL,SAAS,CAAC,UAAM,CACd,GAAMM,CAAAA,SAAS,0FAAG,yLACKJ,CAAAA,GAAG,CAACK,GAAJ,CAAQ,uCAAR,CADL,QACVC,MADU,eAEhB;AACIC,SAHY,CAGAD,MAAM,CAACE,IAAP,CAAYA,IAHZ,CAIZC,UAJY,CAICF,SAAS,CAACG,GAAV,CAAc,SAAAC,IAAI,CAAI,CACrC,GAAIC,CAAAA,MAAM,CAAGD,IAAI,CAACE,WAAL,CACVC,OADU,CACF,SADE,CACS,KADT,EAEVA,OAFU,CAEF,UAFE,CAEU,KAFV,CAAb,CAGAH,IAAI,CAACE,WAAL,CAAmBD,MAAnB,CACA,MAAOD,CAAAA,IAAP,CACD,CANgB,CAJD,CAWhBR,QAAQ,CAACM,UAAD,CAAR,CAXgB,sDAAH,kBAATL,CAAAA,SAAS,0CAAf,CAaAA,SAAS,GACV,CAfQ,CAeN,EAfM,CAAT,CAgBA,mBACE,4CACE,mDADF,cAEE,2BAAK,SAAS,CAAC,KAAf,EACGF,KAAK,CAACQ,GAAN,CAAU,SAAAC,IAAI,qBACb,2BAAK,SAAS,CAAC,kCAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,SAAS,CAAC,cAAf,CAA8B,GAAG,CAAEA,IAAI,CAACE,WAAxC,EADF,cAEE,2BAAK,SAAS,CAAC,WAAf,eACE,0BAAI,SAAS,CAAC,YAAd,EAA4BF,IAAI,CAACI,IAAjC,CADF,cAEE,8BAAQ,SAAS,CAAC,iBAAlB,eACE,oBAAC,IAAD,EACE,SAAS,CAAC,MADZ,CAEE,EAAE,CAAE,CACFC,QAAQ,CAAE,QAAUL,IAAI,CAACI,IADvB,CAEFE,KAAK,CAAE,CACLC,MAAM,CAAEP,IAAI,CAACQ,EADR,CAFL,CAFN,EASGR,IAAI,CAACI,IATR,YASsB,GATtB,CADF,CAFF,CAFF,CADF,CADa,EAAd,CADH,CAFF,CADF,CA8BD,CAED,cAAed,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../api\";\n\nfunction Games() {\n  const [games, setGames] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await api.get(\"https://api.twitch.tv/helix/games/top\");\n      // console.log(result.data);\n      let dataArray = result.data.data;\n      let finalArray = dataArray.map(game => {\n        let newURL = game.box_art_url\n          .replace(\"{width}\", \"300\")\n          .replace(\"{height}\", \"300\");\n        game.box_art_url = newURL;\n        return game;\n      });\n      setGames(finalArray);\n    };\n    fetchData();\n  }, []);\n  return (\n    <div>\n      <h1>Most Popular Games</h1>\n      <div className=\"row\">\n        {games.map(game => (\n          <div className=\"col-lg-4 col-md-6 col-sm-12 mt-5\">\n            <div className=\"card\">\n              <img className=\"card-img-top\" src={game.box_art_url} />\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{game.name}</h5>\n                <button className=\"btn btn-success\">\n                  <Link\n                    className=\"link\"\n                    to={{\n                      pathname: \"game/\" + game.name,\n                      state: {\n                        gameID: game.id\n                      }\n                    }}\n                  >\n                    {game.name} streams{\" \"}\n                  </Link>\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Games;\n"]},"metadata":{},"sourceType":"module"}